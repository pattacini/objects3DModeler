<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="yarpmanifest.xsl"?>
 
<module>
    <!-- module's name should match its executable file's name. -->
    <name>toolRecognizer</name>
    <description>Module to manage classifiers to learn and recognize tools from vision</description>
        <copypolicy>Released under the terms of the GNU GPL v2.0</copypolicy>
    <version>0.5</version>
    
    <description-long>
    Uses the visual classification pipeline trained on tools in order to recognize them and returns the name of the tool.
    </description-long>

    <!-- <arguments> can have multiple <param> tags-->
    <arguments>    
    <param desc="Name of the module" default="graspChecker"> name</param>
    </arguments>

    <!-- <authors> can have multiple <author> tags. -->
    <authors>
  	  <author email="vadim.tikhanoff@iit.it"> Vadim Tikhanoff </author>
	  <author email="tanis.mar@iit.it"> Tanis Mar </author>
    </authors>
    
     <!-- <data> can have multiple <input> or <output> tags. -->
     <data>
        <input port_type="service">
            <type>rpc</type>
            <port carrier="tcp">/toolRecognizer/rpc:i</port>
            <description> Takes the following RPC commands
                -# <b>help</b>:  produces this help.
                -# <b>train</b> <i>"tool_name" </i>: Command to train the hand on tool names, while looking at tool.
                -# <b>recognize</b> Queries the classifier for the name of the tool (previously learned).
            </description>
        </input>
        <input>
            <type>ImageOfPixelRgb</type>
            <port carrier="udp">/toolRecognizer/img:i</port>
            <required>no</required>
            <priority>no</priority>
            <description> Receives the camera image.</description>
        </input>
        <input>
            <type>Bottle</type>
            <port carrier="udp">/toolRecognizer/bb:i</port>
            <required>no</required>
            <priority>no</priority>
            <description> Receives bounding box coordinates (tl, br) of the object of interest. </description>
        </input>

        <!-- output data if available -->
        
        <output>
            <type>ImageOfPixelRgb</type>
            <port carrier="udp">/toolRecognizer/img:o</port>
            <description>Sends out the image to propagate it to Himrep.</description>
        </output> 
        <output port_type="service">
            <type>rpc</type>
            <port carrier="tcp">/toolRecognizer/himrep:rpc</port>
            <description>rpc port to communicate with the HimRep module, which manages the coder and classifier modules. </description>
        </output>
    </data>

    <dependencies>
        <computer>
            The classification pipeline should be running, which is connected to this in the APP.  
        </computer>
    </dependencies>

    <!-- specific libraries or header files which are used for development -->
    <development>
        <header></header>
        <library>YARP</library>       
    </development>

</module>

